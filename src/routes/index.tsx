import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/')({ component: App })

import { motion } from "motion/react"
import {
  Animator,
  ScrollContainer,
  ScrollPage,
  batch,
  Fade,
  Move,
  MoveIn,
  Sticky,
} from "react-scroll-motion";
import { Vakken } from '@/components/icons';

import logo from '@/img/pl-500.svg';

import down from '@/img/down.svg';
import shield from '@/img/secure-icon-marketing.svg';
import { Image } from '@unpic/react'
import Button1 from '@/components/button/Button1';
import SecondMarketingComponent from '@/components/marketing/2';
import FirstMarketingComponent from '@/components/marketing/1';
import ReviewCard from '@/components/marketing/reviewCard';
import Marquee from '@/components/marketing/Marquee';

function App() {
  return (
    <div className='p-0 m-0'>
      <div className="hidden md:flex flex-col">
        <div className="hidden md:flex flex-col">
          <div className="relative flex">
            <section
              className="w-screen h-[calc(100vh-4rem)] bg-neutral-800 pt-8 pb-8 drop-shadow-xl drop-down">
              <div className='flex flex-row h-full'>
                <div className="flex flex-col justify-center w-1/2 pr-5">
                  <div className="flex items-center pl-10">

                    <Image
                      className="ml-4 w-16 h-auto"
                      src={logo}
                      alt="PolarLearn Logo"
                      height={64}
                      width={64}
                    />
                    <h1 className="text-6xl font-bold leading-tight bg-linear-to-r from-sky-400 to-sky-100 bg-clip-text text-transparent ml-6">
                      PolarLearn
                    </h1>
                  </div>
                  <br />
                  <br />
                  <div className='max-w-xl items-center justify-center'>
                    <h1 className="text-center mt-6 flex-col sm:flex-row  text-4xl font-bold leading-tight bg-clip-text drop-down">
                      Het gratis en Open-Source leerprogramma voor al je schoolvakken
                      <br />
                    </h1>
                    <br />
                    <div className='justify-center flex'>
                      <Button1 text="Meer weten" onClick={() => { window.scrollTo({ behavior: "smooth", top: 400 }) }} />
                    </div>
                  </div>
                </div>
                <div className="w-1/2 pr-5 flex items-center justify-end">
                  <img
                    src="/banner.png"
                    alt={"PolarLearn banner ding"}
                    className="w-full max-w-[600px] h-auto object-contain"
                  />
                </div>
              </div>
            </section>
          </div>
        </div>
        <hr className="grow border-neutral-600 m-3" />
        <Marquee direction='right'>
          {Vakken.map((vak) => (
            <>
              <div
                className="tile bg-neutral-800 text-white font-bold py-2 px-4 rounded-lg min-w-36 w-auto h-14 text-center place-items-center grid mx-2"
              >
                <span className="flex items-center">
                  <Image src={vak.icon} alt={vak.naam + " plaatje"} width={20} height={20} />
                  <div className="w-2" />
                  {vak.naam}
                </span>
              </div>
            </>
          ))}
        </Marquee>
        <hr className="grow border-neutral-600 m-3" />
        <div className='flex w-full items-center justify-center flex-col'>
          <h1 className='text-2xl font-bold'>Wat onze fans vinden:</h1>
          <div className='flex flex-row gap-x-2 items-center'>
            <h1 className="text-2xl font-bold">4.2</h1>
            <div className='flex'>
              {[...Array(5)].map((_, index) => {
                const starValue = 4.3 - index;
                if (starValue >= 1) {
                  return <span key={index} className="text-yellow-400 text-2xl">★</span>;
                } else if (starValue > 0) {
                  const widthPercent = Math.round(starValue * 100);
                  return (
                    <span key={index} className="relative text-2xl">
                      <span className="text-gray-400">★</span>
                      <span className="absolute top-0 left-0 overflow-hidden" style={{ width: `${widthPercent}%`, color: "#facc15" }}>★</span>
                    </span>
                  );
                } else {
                  return <span key={index} className="text-gray-400 text-2xl">★</span>;
                }
              })}
            </div>
          </div>
          <div className='h-4' />
          <Marquee direction='left'>
            <div className='flex flex-row w-min'>
              <ReviewCard stars={5} author='andrei1010' comment='Door de gratis forum en de samenvattingen heb ik eindelijk topcijfers voor geschiedenis!' />
              <ReviewCard stars={4.7} author='EGaming200' comment='PolarLearn heeft mij geholpen met leren voor toetsen' />
              <ReviewCard stars={5} author='MrApfelstrudel' comment='Door PolarLearn heb ik eindelijk goede cijfers voor frans!' />
              <ReviewCard stars={5} author='anoniem' comment='Ik merk dat PolarLearn veeel sneller is dan StudyGo, ook heel fijn dat het gratis is' />
              <ReviewCard stars={5} author='kabab33' comment='Ik had een StudyGo abonnement, maar nu niet meer! Bedankt voor mijn € 95,88 per jaar besparen PolarLearn!' />
              <ReviewCard stars={5} author='luna' comment="Mijn cijfers waren eerst heel slecht, maar sinds ik PolarLearn gebruik zijn ze super hoog!" />
              <ReviewCard stars={2.5} author='waterliefhebber' comment="Te weinig water" />
              <ReviewCard stars={5} author='-Mohammed-' comment="Het forum is echt veel beter en fijner! Ik hoop dat iedereen naar PolarLearn gaat! Bij StudyGo haalde ik vijfen en vieren, maar nu ik PolarLearn gebruik, haal ik achten en negenen!" smalltext={true} />
              <ReviewCard stars={5} author='klokmeister' comment='De beste leerprogramma van ze allemaal' />
            </div>
          </Marquee>
        </div>
        <hr className="grow border-neutral-600 m-3" />

        <div className='h-60' />

        {/* ✨ Scoll magie ✨ */}
        <div className="my-12">
          <ScrollContainer>
            <ScrollPage>
              <Animator animation={batch(Fade(), Move(), Sticky())}>
                <div className='h-svh flex justify-center items-center flex-col'>
                  <h1 className='text-4xl font-bold'>Waarom PolarLearn?</h1>
                  <div className='h-4' />
                  <div className='flex flex-row gap-x-4'>
                    <Image src={down} alt="down arrow" width={20} height={20} />
                    <p>Scroll naar beneden om te zien!</p>
                    <Image src={down} alt="down arrow" width={20} height={20} />
                  </div>
                </div>
              </Animator>
            </ScrollPage>
            <ScrollPage>
              <Animator animation={batch(Fade())}>
                <div className='h-svh'>
                  <div className='w-full h-full flex items-center'>
                    <div className='w-1/2'>
                      <FirstMarketingComponent />
                    </div>
                    <div className='border-r border-neutral-600 h-full'></div>
                    <div className='w-1/2 pl-5'>
                      <motion.p
                        initial={{ y: -30, opacity: 0 }}
                        whileInView={{ y: 0, opacity: 1 }}
                        transition={{ duration: 0.7, delay: 0.4 }}
                        className='justify-center flex font-bold text-3xl'>
                        Wat is PolarLearn?
                      </motion.p>
                      <div className='h-4' />
                      <motion.p
                        initial={{ y: -30, opacity: 0 }}
                        whileInView={{ y: 0, opacity: 1 }}
                        transition={{ duration: 0.7, delay: 0.7 }}
                        className='text-xl'>
                        PolarLearn is een FOSS (gratis en Open-Source) leerplatform, voor al je schoolvakken.
                      </motion.p>
                    </div>
                  </div>
                </div>
              </Animator>
            </ScrollPage>
            <ScrollPage>
              <Animator animation={batch(MoveIn(1000, 0))}>
                <div className="h-screen flex flex-row items-center justify-center">
                  <div className="w-1/2 h-full flex flex-col items-center justify-center pl-5">
                    <motion.p
                      initial={{ y: -30, opacity: 0 }}
                      whileInView={{ y: 0, opacity: 1 }}
                      transition={{ duration: 0.7, delay: 0.8 }}
                      className='justify-center flex font-bold text-3xl'>
                      PolarLearn is snel
                    </motion.p>
                    <motion.p
                      className="mt-4 text-center text-xl"
                      initial={{ y: -30, opacity: 0 }}
                      whileInView={{ y: 0, opacity: 1 }}
                      transition={{ duration: 0.7, delay: 1 }}
                    >
                      PolarLearn gebruikt de nieuwste technologieën, zoals Next.js, Prisma (ORM) en onze eigen PolarAuth om jouw leerervaring zo snel mogelijk te maken.
                    </motion.p>
                  </div>
                  <div className="border-r border-neutral-600 h-full"></div>
                  <div className="w-1/2 h-full flex items-center justify-center">
                    <motion.div
                      initial={{ x: 80, opacity: 0 }}
                      whileInView={{ x: 0, opacity: 1 }}
                      transition={{ duration: 0.7, delay: 0.8 }}
                    >
                      <SecondMarketingComponent />
                    </motion.div>
                  </div>
                </div>
              </Animator>
            </ScrollPage>
            <ScrollPage>
              <Animator animation={batch(MoveIn(-1000, 0))}>
                <div className="h-screen flex flex-row items-center justify-center">
                  <div className="w-1/2 h-full flex flex-col items-center justify-center pl-5">
                    <motion.p
                      initial={{ y: -30, opacity: 0 }}
                      whileInView={{ y: 0, opacity: 1 }}
                      transition={{ duration: 0.7, delay: 0.8 }}
                      className='justify-center flex font-bold text-3xl'>
                      PolarLearn is veilig
                    </motion.p>
                    <motion.p
                      className="mt-4 text-center text-xl"
                      initial={{ y: -30, opacity: 0 }}
                      whileInView={{ y: 0, opacity: 1 }}
                      transition={{ duration: 0.7, delay: 1 }}
                    >
                      PolarLearn gebruikt de nieuwste beveiligingstechnologieën, zoals Argon2id <a target='_blank' className='bg-linear-to-r from-sky-500 to-sky-100 bg-clip-text text-transparent' href='https://www.sentinelone.com/cybersecurity-101/cybersecurity/hashing/'>hashing</a>, salting, en password peppers om jouw gegevens zo veilig mogelijk te houden. Zo kan je met een gerust hart leren. PolarLearn verzamelt en verkoopt je persoonlijke data juist niet.
                    </motion.p>
                  </div>
                  <div className="border-r border-neutral-600 h-full"></div>
                  <div className="w-1/2 h-full flex items-center justify-center">
                    <motion.div
                      initial={{ y: -30, opacity: 0 }}
                      whileInView={{ y: 0, opacity: 1 }}
                      transition={{ duration: 0.7, delay: 0.8 }}
                    >
                      <Image src={shield} alt="shield" width={400} height={400} />
                    </motion.div>
                  </div>
                </div>
              </Animator>
            </ScrollPage>
          </ScrollContainer>
        </div>
        <div>
          <div className='flex flex-col items-center justify-center'>
            <h1 className='text-4xl font-bold'>Wat doe jij nog hier?</h1>
            <div className='h-8' />
            <Button1 text='Start met leren!' redirectTo='/app/start' />
          </div>
        </div>
        <div className='h-8' />
      </div>
      <div className="md:hidden text-center flex flex-col items-center justify-center h-screen">
        <div className="flex items-center">

          <Image
            className="ml-4 w-12 h-auto"
            src={logo}
            alt="PolarLearn Logo"
            height={48}
            width={48}
          />
          <h1 className="text-5xl font-bold leading-tight bg-linear-to-r from-sky-400 to-sky-100 bg-clip-text text-transparent ml-6">
            PolarLearn
          </h1>
        </div>
        <h1>PolarLearn op kleine schermen is nog in beta, will je doorgaan?</h1>
        <Button1 text='ja!' redirectTo='/home/start' />
      </div>
    </div>
  )
}
